LIA_on_yearly_pulse_country = {
	effect = {
		every_country = {
			limit = {
				this = c:CHI
			}
			hidden_effect = {
				random_list = {
					20 = {
						if = {
							limit = {
								NOT = { has_journal_entry = je_heavenly_kingdom_main }
								NOT = { exists = c:TPG }
								NOT = { has_variable = lia_variable_rtc_tpg }
								year >= 1846
								year <= 1860
							}
							trigger_event = {
								id = heavenly.1
								days = 3
							}								
						}					
					}
					40 = {
						if = {
							limit = {
								NOT = { has_journal_entry = je_heavenly_kingdom_main }
								NOT = { exists = c:TPG }
								NOT = { has_variable = lia_variable_rtc_tpg }
								year >= 1850
								year <= 1860
							}
							trigger_event = {
								id = heavenly.1
								days = 3
							}								
						}					
					}					
					60 = {}
				}
				
			}
		}
		
		random_list = {	#태평천국 진압
			40 = {	#청나라가 도발
				if = {
					limit = {
						exists = c:TPG
						exists = c:CHI
						THIS = c:CHI
						year <= 1880
						NOT = { has_truce_with = c:TPG }
						NOR = {
							any_diplomatic_play = {
								target = c:CHI
							}
							any_diplomatic_play = {
								initiator = c:CHI
							}			
						}
						is_player = no
					}
					##
					every_state_region = {	#일단 클레임 없으면 새로 박고
						limit = {
							any_scope_state = {
								owner = { this = c:TPG }
							}
						}
						add_claim = c:CHI
					}		
					every_state_region = {
						limit = {
							any_scope_state = {
								owner = { this = c:CHI }
							}
						}
						add_claim = c:TPG
					}
					
					random_state_region = {	#청나라 요구 설정
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
						}
						save_scope_as = lia_rtc_state_reconquer_1
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
						}
						save_scope_as = lia_rtc_state_reconquer_2
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2 }
						}
						save_scope_as = lia_rtc_state_reconquer_3
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2 }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3 }
						}
						save_scope_as = lia_rtc_state_reconquer_4
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2 }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_4 }
						}
						save_scope_as = lia_rtc_state_reconquer_5
					}
					random_state_region = {	#태평천국 요구 설정
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
						}
						save_scope_as = lia_rtc_state_reconquer_1tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
						}
						save_scope_as = lia_rtc_state_reconquer_2tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2tp }
						}
						save_scope_as = lia_rtc_state_reconquer_3tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2tp }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3tp }
						}
						save_scope_as = lia_rtc_state_reconquer_4tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2tp }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_4tp }
						}
						save_scope_as = lia_rtc_state_reconquer_5tp
					}		
					##
					create_diplomatic_play = {
						name = lia_rtc_chi_return
						target_country = c:TPG
						type = dp_return_state
						war = yes	#즉발전쟁
						add_war_goal = {	#청나라 요구들
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_1.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_2.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_3.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_4.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_5.region_state:TPG
						}			
						add_war_goal = {
							holder = c:CHI
							type = annex_country
							target_country = c:TPG
						}
						
						add_war_goal = {	#태평천국 요구들
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_1tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_2tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_3tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_4tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_5tp.region_state:CHI
						}			
						#add_war_goal = {
						#	holder = c:TPG
						#	type = annex_country
						#	target_country = c:CHI
						#}			
					}
					every_country = {
						limit = {
							country_is_in_east_asia = yes
						}
						trigger_event = {
							id = lia_event_rtc.12
							days = 3
						}			
					}
				}					
			}
			40 = {	#태평천국이 도발
				if = {
					limit = {
						exists = c:TPG
						exists = c:CHI
						THIS = c:TPG
						year <= 1880
						NOT = { has_truce_with = c:CHI }
						NOR = {
							any_diplomatic_play = {
								target = c:TPG
							}
							any_diplomatic_play = {
								initiator = c:TPG
							}			
						}
						is_player = no
					}
					##
					every_state_region = {	#일단 클레임 없으면 새로 박고
						limit = {
							any_scope_state = {
								owner = { this = c:TPG }
							}
						}
						add_claim = c:CHI
					}		
					every_state_region = {
						limit = {
							any_scope_state = {
								owner = { this = c:CHI }
							}
						}
						add_claim = c:TPG
					}
					
					random_state_region = {	#청나라 요구 설정
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
						}
						save_scope_as = lia_rtc_state_reconquer_1
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
						}
						save_scope_as = lia_rtc_state_reconquer_2
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2 }
						}
						save_scope_as = lia_rtc_state_reconquer_3
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2 }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3 }
						}
						save_scope_as = lia_rtc_state_reconquer_4
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:TPG
								any_neighbouring_state = {
									owner = c:CHI
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2 }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3 }
							NOT = { THIS = scope:lia_rtc_state_reconquer_4 }
						}
						save_scope_as = lia_rtc_state_reconquer_5
					}
					random_state_region = {	#태평천국 요구 설정
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
						}
						save_scope_as = lia_rtc_state_reconquer_1tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
						}
						save_scope_as = lia_rtc_state_reconquer_2tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2tp }
						}
						save_scope_as = lia_rtc_state_reconquer_3tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2tp }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3tp }
						}
						save_scope_as = lia_rtc_state_reconquer_4tp
					}
					random_state_region = {
						limit = {
							any_scope_state = {
								owner = c:CHI
								any_neighbouring_state = {
									owner = c:TPG
								}					
							}
							NOT = { THIS = scope:lia_rtc_state_reconquer_1tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_2tp }				
							NOT = { THIS = scope:lia_rtc_state_reconquer_3tp }
							NOT = { THIS = scope:lia_rtc_state_reconquer_4tp }
						}
						save_scope_as = lia_rtc_state_reconquer_5tp
					}		
					##
					create_diplomatic_play = {
						name = lia_rtc_tpg_return
						target_country = c:CHI
						type = dp_return_state
						war = yes	#즉발전쟁
						
						add_war_goal = {	#태평천국 요구들
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_1tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_2tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_3tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_4tp.region_state:CHI
						}
						add_war_goal = {
							holder = c:TPG
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_5tp.region_state:CHI
						}			
						add_war_goal = {
							holder = c:TPG
							type = annex_country
							target_country = c:CHI
						}
						
						add_war_goal = {	#청나라 요구들
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_1.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_2.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_3.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_4.region_state:TPG
						}
						add_war_goal = {
							holder = c:CHI
							type = return_state
							target_state = scope:lia_rtc_state_reconquer_5.region_state:TPG
						}			
						#add_war_goal = {
						#	holder = c:CHI
						#	type = annex_country
						#	target_country = c:TPG
						#}			
					}
					every_country = {
						limit = {
							country_is_in_east_asia = yes
						}
						trigger_event = {
							id = lia_event_rtc.11
							days = 3
						}			
					}
				}					
			}					
			20 = {}
		}
		
	}
}